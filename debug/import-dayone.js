/**
 * Created by Zizy on 17/09/2017.
 */
let dayOne = {
  "metadata" : {
    "version" : "1.0"
  },
  "entries" : [
    {
      "starred" : false,
      "location" : {
        "region" : {
          "center" : {
            "longitude" : 114.13615417480469,
            "latitude" : 22.28577995300293
          },
          "radius" : 75
        },
        "localityName" : "é¦™æ¸¯",
        "country" : "é¦™æ¸¯",
        "longitude" : 114.13615417480469,
        "administrativeArea" : "é¦™æ¸¯",
        "placeName" : "é¦™æ¸¯çš‡åŽå¤§é“è¥¿470å·",
        "latitude" : 22.28577995300293
      },
      "sourceString" : "visit-34757A10-36D3-4593-9CE7-52E1BD296477",
      "userActivity" : {
        "activityName" : "Stationary"
      },
      "text" : "ä¸Šè¯¾å·¨æ— èŠæ€€ç–‘è‡ªå·±è¿›äº†å‡å­¦æ ¡çš„ä¸€å¤©\n\n![](dayone-moment:\/\/191BF82DBB1A4126918B2D595A9CBD03)\n\néƒ½æ˜¯ä¸€äº›å­¦è¿‡çš„ä¸œè¥¿åæ­£æ„Ÿè§‰å¬ä¸å¬è¯¾ä¹Ÿéƒ½æ— æ‰€è°“ã€‚\nä¸å¥½åƒçš„è‰èŽ“ã€‚\nå¼€å¿ƒçš„äº‹æƒ…æ˜¯åƒäº†å…³çˆ±**å„¿ç«¥çš„çˆ±å¿ƒä¾¿å½“ã€‚\næ™šä¸Šåœ¨è‡ªå­¦ï¼Œä½†æ˜¯æ²¡æœ‰ä»€ä¹ˆå¿ƒæƒ…é™ä¸‹æ¥å¥½å¥½çœ‹ä¹¦ã€‚è¿˜æ˜¯æ‰“æ¸¸æˆå¥½äº†ðŸ˜«ã€‚\n\/\/\/\/åˆ†æ‰‹ç¬¬ä¸€å¤©ï¼Œåæ­£â€¦è™½ç„¶ä¸çŸ¥é“è‡ªå·±åšçš„æ˜¯å¯¹æ˜¯é”™ã€‚å¯èƒ½å°±æ˜¯å½»å½»åº•åº•é”™çš„å§ï¼Ÿï¼Ÿï¼Ÿå¯æ˜¯åˆæ€Žä¹ˆæ ·å•Šï¼Ÿï¼Ÿé”™éƒ½é”™äº†ã€‚å°†é”™å°±é”™ã€‚åªæ˜¯ä¸çŸ¥é“æœ‰ä»€ä¹ˆåŠžæ³•å¯ä»¥æ›´å¼€å¿ƒä¸€ç‚¹ã€‚æŒ‰ç†æ¥è¯´ï¼Œåº”è¯¥åŽ»è¦æ›´å¼€å¿ƒçš„å§ï¼Ÿï¼Ÿ",
      "weather" : {
        "sunsetDate" : "2017-09-20T10:22:59Z",
        "temperatureCelsius" : 29,
        "weatherServiceName" : "HAMweather",
        "windBearing" : 100,
        "sunriseDate" : "2017-09-19T22:12:29Z",
        "conditionsDescription" : "Mostly Clear",
        "pressureMB" : 1010,
        "visibilityKM" : 48.280319213867188,
        "relativeHumidity" : 70,
        "windSpeedKPH" : 11,
        "weatherCode" : "cloudy-night",
        "windChillCelsius" : 29
      },
      "creationDate" : "2017-09-19T16:09:18Z",
      "timeZone" : "Asia\/Hong_Kong",
      "uuid" : "B5599B5B0C894630AF1E5F45318CDC09",
      "duration" : 0,
      "photos" : [
        {
          "fnumber" : "(null)",
          "orderInEntry" : 0,
          "width" : 2048,
          "type" : "jpeg",
          "identifier" : "191BF82DBB1A4126918B2D595A9CBD03",
          "height" : 2048,
          "md5" : "3a00bc9b70f528e2ebc07e269e015eed",
          "focalLength" : "(null)"
        }
      ]
    },
    {
      "starred" : false,
      "location" : {
        "region" : {
          "center" : {
            "longitude" : 114.13616180419922,
            "latitude" : 22.285770416259766
          },
          "radius" : 75
        },
        "localityName" : "é¦™æ¸¯",
        "country" : "é¦™æ¸¯",
        "longitude" : 114.13616180419922,
        "administrativeArea" : "é¦™æ¸¯",
        "placeName" : "é¦™æ¸¯çš‡åŽå¤§é“è¥¿470å·",
        "latitude" : 22.285770416259766
      },
      "sourceString" : "visit-0FF8735C-9E14-4A6A-9F8D-057B4B0BD945",
      "userActivity" : {
        "activityName" : "Stationary",
        "stepCount" : 1
      },
      "text" : "å’Œçˆ¬å±±è®¤è¯†çš„æ–°åŒå­¦åƒé¥­å­¦ä¹ çš„ä¸€å¤©\n\n![](dayone-moment:\/\/C9BC58E015264A07A2A6506BDD09411A)\n\nè™½ç„¶å¼€å§‹çš„æ—¶å€™è¿˜æ˜¯å¾ˆå°´å°¬ï¼šï¼‰\nå¤–åŠ ä¼¼ä¹Žå—åŒ—çš„å£å‘³ä¸å¤ªä¸€æ ·å•Šï¼Ÿï¼Ÿï¼Ÿ\nä¸è¿‡è¿˜å¥½åªæœ‰æ™®é€šå°´å°¬ç¨‹åº¦è€Œå·²ã€‚\nçœ‹ç¥žç»ç½‘ç»œçš„ç¬¬äºŒè¯¾å­¦çš„æœ‰ç‚¹æŠ‘éƒ\nçœ‹ä¸ä¸‹åŽ»ä¹¦çš„æ„Ÿè§‰ã€‚\nå¯èƒ½è¿˜æ˜¯è§‰å¾—å¤ªæŠ½è±¡å§ï¼Ÿï¼Ÿï¼Ÿ\næ™šé¤çš„sué¤åŽ…éžå¸¸å¥½è¯„ã€‚\nè¿˜æ˜¯å¼€å¿ƒçš„ä¸€å¤©é˜¿ã€‚",
      "weather" : {
        "sunsetDate" : "2017-09-21T10:21:59Z",
        "temperatureCelsius" : 29,
        "weatherServiceName" : "HAMweather",
        "windBearing" : 110,
        "sunriseDate" : "2017-09-20T22:12:46Z",
        "conditionsDescription" : "Mostly Clear",
        "pressureMB" : 1009,
        "visibilityKM" : 48.280319213867188,
        "relativeHumidity" : 79,
        "windSpeedKPH" : 22,
        "weatherCode" : "cloudy-night",
        "windChillCelsius" : 29
      },
      "creationDate" : "2017-09-20T16:11:26Z",
      "timeZone" : "Asia\/Hong_Kong",
      "uuid" : "10E83A023AB1416BA983E4E0EF185BD2",
      "duration" : 0,
      "photos" : [
        {
          "fnumber" : "(null)",
          "orderInEntry" : 0,
          "width" : 2048,
          "type" : "jpeg",
          "identifier" : "C9BC58E015264A07A2A6506BDD09411A",
          "height" : 2048,
          "md5" : "f339c312aa8e7766dfbcba6f9ed9a2bd",
          "focalLength" : "(null)"
        }
      ]
    },
    {
      "starred" : false,
      "location" : {
        "region" : {
          "center" : {
            "longitude" : 114.13616180419922,
            "latitude" : 22.2857666015625
          },
          "radius" : 75
        },
        "localityName" : "é¦™æ¸¯",
        "country" : "é¦™æ¸¯",
        "longitude" : 114.13616180419922,
        "administrativeArea" : "é¦™æ¸¯",
        "placeName" : "é¦™æ¸¯çš‡åŽå¤§é“è¥¿470å·",
        "latitude" : 22.2857666015625
      },
      "sourceString" : "visit-A845DB5F-6186-4F7C-A008-20F7622559AC",
      "userActivity" : {
        "activityName" : "Stationary"
      },
      "text" : "æ·±åœ³å…¬å¸å®¡æŸ¥å¤–åŠ æµ·åº•æžçš„ä¸€å¤©ï¼\n\n![](dayone-moment:\/\/92C58B8918FB4D8B84997058E3D1C783)\n\nå®žé™…ä¸Šæ˜¯ä¸¤ä¸ªæ™ºéšœå…ˆè®°é”™äº†åœ°é“ç«™ç„¶åŽèµ°é”™å£å²¸å¤–åŠ èµ°é”™åœ°é“ç«™næ¬¡çš„ä¸€å¤©å“ˆå“ˆå“ˆå“ˆå“ˆã€‚è‡³å°‘å…¬å¸ä¸€åˆ‡é¡ºåˆ©ï¼Œå¤–åŠ æµ·åº•æžè¿˜æ˜¯å¾ˆæ£’çš„å•Šã€‚é€›è¶…å¸‚æ—¥å¸¸æ²¡è€å¿ƒã€‚ä¸çŸ¥é“æœ‰ä»€ä¹ˆé‚£ä¹ˆå¥½é€›ï¼šï¼‰ã€‚è¿˜æ˜¯ä¹°äº†ä¸€äº›æœ‰çš„æ²¡çš„ã€‚å–äº†å¥‡æ€ªçš„çš‡èŒ¶ï¼Œå¹¶æ²¡æœ‰å¿ƒå¿ƒå¿µå¿µçš„ç«é¾™æžœã€‚ä½†è§‰å¾—è¿˜æ˜¯å¾ˆé•¿å¾ˆå¼€å¿ƒçš„ä¸€å¤©ã€‚",
      "weather" : {
        "sunsetDate" : "2017-09-22T10:21:00Z",
        "temperatureCelsius" : 29,
        "weatherServiceName" : "HAMweather",
        "windBearing" : 90,
        "sunriseDate" : "2017-09-21T22:13:03Z",
        "conditionsDescription" : "Mostly Clear",
        "pressureMB" : 1009,
        "visibilityKM" : 48.280319213867188,
        "relativeHumidity" : 74,
        "windSpeedKPH" : 9,
        "weatherCode" : "cloudy-night",
        "windChillCelsius" : 29
      },
      "creationDate" : "2017-09-21T16:18:41Z",
      "timeZone" : "Asia\/Hong_Kong",
      "uuid" : "B3DB542F504C43D38A5E30FDE0401CA2",
      "duration" : 0,
      "photos" : [
        {
          "fnumber" : "(null)",
          "orderInEntry" : 0,
          "width" : 2048,
          "type" : "jpeg",
          "identifier" : "92C58B8918FB4D8B84997058E3D1C783",
          "height" : 2048,
          "md5" : "c88d121671a2565c27d4e7f50cf55413",
          "focalLength" : "(null)"
        }
      ]
    },
    {
      "starred" : false,
      "location" : {
        "region" : {
          "center" : {
            "longitude" : 114.13631439208984,
            "latitude" : 22.285749435424805
          },
          "radius" : 75
        },
        "localityName" : "é¦™æ¸¯",
        "country" : "é¦™æ¸¯",
        "longitude" : 114.13631439208984,
        "administrativeArea" : "é¦™æ¸¯",
        "placeName" : "é¦™æ¸¯çš‡åŽå¤§é“è¥¿470å·",
        "latitude" : 22.285749435424805
      },
      "sourceString" : "visit-5961EBF7-C51A-415D-99BE-A7D27259B92D",
      "userActivity" : {
        "activityName" : "Stationary"
      },
      "text" : "å’Œæˆ¿ä¸œè°ˆå®ŒåŽå¼€å§‹é¢“åºŸå„ç§æ‰¾åƒçš„ä¸€å¤©\n\n![](dayone-moment:\/\/9912837CD9B04F26932E28430AE99ACB)\n\nå¯èƒ½ä¸å¥½çš„æƒ…ç»ªåœ¨ä¸€ä¸ªäººçš„æ—¶å€™æ‰ä¼šç´¯ç§¯èµ·æ¥ã€‚\nè™½ç„¶å¯èƒ½ä¹‹åŽè¿˜æ˜¯è¦æ¬å®¶ï¼Œä¸è¿‡æŠŠè¿™ä¸€åˆ‡éƒ½å½“ä½œå¹¶éžåº”å¾—çš„è¯ã€‚å¯èƒ½ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾è¿‡äº†ã€‚\næ€»ç®—æ‰¾ä¸ªä¸€ä¸ªå¯èƒ½è¿˜ä¸é”™çš„æ–°å®¶ï¼Œå¸Œæœ›ä¸€åˆ‡éƒ½å¥½ã€‚\nåƒä¸œè¥¿å®žåœ¨æ˜¯ä¸€ä¸ªå¾ˆå®¹æ˜“è®©äººå†·åŠ ä¸‹æ¥çš„äº‹æƒ…é˜¿ï¼Ÿ",
      "weather" : {
        "sunsetDate" : "2017-09-23T10:20:00Z",
        "temperatureCelsius" : 30,
        "weatherServiceName" : "HAMweather",
        "windBearing" : 110,
        "sunriseDate" : "2017-09-22T22:13:20Z",
        "conditionsDescription" : "Partly Cloudy",
        "pressureMB" : 1010,
        "visibilityKM" : 48.280319213867188,
        "relativeHumidity" : 79,
        "windSpeedKPH" : 15,
        "weatherCode" : "cloudy-night",
        "windChillCelsius" : 30
      },
      "creationDate" : "2017-09-22T16:34:48Z",
      "timeZone" : "Asia\/Hong_Kong",
      "uuid" : "7916C2CD8C6848B2B6FA96F2DE949615",
      "duration" : 0,
      "photos" : [
        {
          "fnumber" : "(null)",
          "orderInEntry" : 0,
          "width" : 2048,
          "type" : "jpeg",
          "identifier" : "9912837CD9B04F26932E28430AE99ACB",
          "height" : 2048,
          "md5" : "fa8d633bee57409c41bdeab75cce179a",
          "focalLength" : "(null)"
        }
      ]
    }
  ]};


let structured = dayOne.entries.map(i => {
  return {
    img_url: 'http://owdi2r4ca.bkt.clouddn.com/' + i.photos[0].md5 + '.jpeg?imageView2/2/w/400/h/400/interlace/1/q/100',
    title: i.text.substr(0, i.text.indexOf('![]')),
    content: i.text.substr(i.text.lastIndexOf(')\n\n') + 2, i.text.indexOf('////') != -1? i.text.indexOf('////') - i.text.lastIndexOf(')\n\n') - 2 : undefined),
    date: i.creationDate,
    id: i.uuid,
    place: i.location && i.location.placeName
  }
});
console.log(structured)
